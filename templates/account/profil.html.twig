{% extends "base.html.twig" %}

{% block title %}Bonjour {{user.fullName}}{% endblock %}

{% block body %}
    <div class="accountContainer">
        <div class="containerProfil">
            {% for label, messages in app.flashes %}
                <div class="alertProfil alert-{{ label }}">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endfor %}
            <h1>Bonjour {{user.fullName}}</h1>
            <div class="actionProfil">
                <div class="actionP"><a href="{{path('account_profile')}}"></a>Modifier mon profil</div>
                <div class="actionP"><a href="{{ path('building_index', {'slug': app.user.building.slug}) }}"></a>Voir {{app.user.building.name}}</div>
                <div class="actionP"><a href="{{path('account_password')}}"></a>Modifier mon mot de passe</div>
                <div class="actionP"><a href="{{path('account_issue')}}"></a>Signalez un problème</div>
            </div>
            <h2>Vos appartements</h2>
            <div class="ownerContainer">
                {% for owner in owners %}
                    <div class="ownerItem">
                        <span>{{ owner.apartment.reference }}</span>
                        <span>{{ owner.startDate|date('d/m/Y') }}</span>
                            {% if owner.endDate is not null %}
                                {{ owner.endDate|date('d-m-Y') }}
                            {% else %}
                                En cours
                            {% endif %}
                    </div>
                {% endfor %}
            </div>
            <h2>Vos problèmes signalés</h2>
            <div class="issueContainer">
                {% for issue in issues %}
                    <span>Test</span>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}